/*
 * sdread.h
 *
 *  Created on: 2019年5月26日
 *      Author: 12757
 */

#ifndef SDREAD_H_
#define SDREAD_H_

#include <stddef.h>
#include <alt_types.h>
#include <sys/alt_dev.h>
#include <stdbool.h>


#ifdef __cplusplus
extern "C"
{
#endif /* __cplusplus */

/*
 * Device structure definition. Each instance of the driver uses one
 * of these structures to hold its associated state.
 */
typedef struct alt_up_sd_card_dev {
	/// @brief character mode device structure
	/// @sa Developing Device Drivers for the HAL in Nios II Software Developer's Handbook
	alt_dev dev;
	/// @brief the base address of the device
	unsigned int base;

} alt_up_sd_card_dev;

#ifndef bool
    typedef enum e_bool { false = 0, true = 1 } bool;
#endif


//读取文本内容，读取size个字节，放入缓存buffer
short int fread_txt( short int file_handle, alt_u8 *buffer, int size );

//fseek_txt的fromwhere类型
enum fseekType { SEEK_SET_TXT=0, SEEK_CUR_TXT=1, SEEK_END_TXT=2 };
//文本指针偏移
short int fseek_txt( short int file_handle, int offset, enum fseekType fromwhere);


#endif /* SDREAD_H_ */
